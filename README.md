# API образовательной платформы

## База данных

Содержит несколько таблиц:

1. **Course**: курсы, предлагаемые образовательной платформой.

   Атрибуты: название, автор, дата старта, время старта, стоимость, максимальное и минимальное количество студентов в группе.

2. **Lesson**: уроки, связанные с конкретным курсом.

   Атрибуты: курс, название, ссылка на видео.

3. **CourseStudent**: студенты, записавшиеся на курс.

   Атрибуты: студент, курс.

4. **CourseGroup**: группы, относящиеся к конкретному курсу.

   Атрибуты: курс, название группы.

5. **StudentsInGroup**: студенты, распределенные в группу курса, на который они записаны.
   
   Атрибуты: название группы, студент.


## Бизнес-логика

После того, как студент записался на курс (т.е. был добавлен в таблицу CourseStudent), он распределяется в группу курса.

Алгоритм распределения работает таким образом, чтобы заполнять группу до максимального значения (max\_students\_in\_group в таблице Course). Если максимальное количество студентов группы достигнуто, создается новая группа.

Логика удаления студентов с курса и последующего удаления из группы не реализована.


## Endpoints (эндпойнты)

- **courses**: получить список всех курсов, доступных для покупки.
  Список включает основную информацию о курсе, а также количество уроков, относящихся к данному курсу.
  
  Доступ к списку курсов не требует аутентификации.

- **courses/course_name**: получить список уроков по конкретному курсу, на который записан пользователь.

  Доступ к списку уроков могут получить только аутентифицированные пользователи, которым выданы разрешения:
    - админ (superuser)
    - студент, который записан на курс (таблица CourseStudent)

Для тестирования эндпойнтов предоставляются следующие данные:

1. Курсы:
   - python
   - django

2. Пользователи:
   - joe (пароль: 012345678j)
   - melissa (пароль: 0123456789m)

3. Доступ к курсам:
   - joe -> python
   - melissa -> django

Например, по url /courses/python/ joe получит список уроков по курсу "Python". А melissa получит ошибку 403.


## Примечания

В разработке приложения использовались:

- Python 3.8

- Django 4.2

- Сигналы Django (Django signals)

- Django Rest Framework.
